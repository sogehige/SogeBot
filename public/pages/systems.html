<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" id="settings">
  <div class="widget" id="points">
    <div class="title" data-lang="points"></div>
    <table class="table table-striped">
      <tr>
        <td><strong data-lang="points-name"></strong></td>
        <td>
          <abbr title="click to edit" data-config-id="pointsName" onclick="commons.configEditable(this, '')" id="configPointsName"></abbr>
          <div class="input-group" style="display:none;" id="input_pointsName_group">
            <div class="input-group-addon" data-lang="points-single-multi"></div>
            <input id="input_pointsName" class="form-control input-sm" type="text"/>
          </div>
        </td>
      </tr>
      <tr>
        <td><strong data-lang="points-response"></strong></td>
        <td>
          <abbr title="click to edit" data-config-id="pointsResponse" onclick="commons.configEditable(this, '')" id="configPointsResponse"></abbr>
          <div class="input-group" style="display:none;" id="input_pointsResponse_group">
            <div class="input-group-addon" data-lang="string"></div>
            <input id="input_pointsResponse" class="form-control input-sm" type="text"/>
          </div>
        </td>
      </tr>
      <tr>
        <td><strong data-lang="points-interval"></strong></td>
        <td>
          <abbr title="click to edit" data-config-id="pointsInterval" onclick="commons.configEditable(this, 'min')" id="configPointsInterval"></abbr>
          <div class="input-group" style="display:none;" id="input_pointsInterval_group">
            <div class="input-group-addon" data-lang="minutes"></div>
            <input id="input_pointsInterval" class="form-control input-sm" type="text"/>
          </div>
        </td>
      </tr>
      <tr>
        <td><strong data-lang="points-per-interval"></strong></td>
        <td>
          <abbr title="click to edit" data-config-id="pointsPerInterval" onclick="commons.configEditable(this, '')" id="configPointsPerInterval"></abbr>
          <div class="input-group" style="display:none;" id="input_pointsPerInterval_group">
            <div class="input-group-addon" data-lang="points"></div>
            <input id="input_pointsPerInterval" class="form-control input-sm" type="text"/>
          </div>
        </td>
      </tr>
      <tr>
        <td><strong data-lang="points-interval-offline"></strong></td>
        <td>
          <abbr title="click to edit" data-config-id="pointsIntervalOffline" onclick="commons.configEditable(this, 'min')" id="configPointsIntervalOffline"></abbr>
          <div class="input-group" style="display:none;" id="input_pointsIntervalOffline_group">
            <div class="input-group-addon" data-lang="minutes"></div>
            <input id="input_pointsIntervalOffline" class="form-control input-sm" type="text"/>
          </div>
        </td>
      </tr>
      <tr>
        <td><strong data-lang="points-per-interval-offline"></strong></td>
        <td>
          <abbr title="click to edit" data-config-id="pointsPerIntervalOffline" onclick="commons.configEditable(this, '')" id="configPointsPerIntervalOffline"></abbr>
          <div class="input-group" style="display:none;" id="input_pointsPerIntervalOffline_group">
            <div class="input-group-addon" data-lang="points"></div>
            <input id="input_pointsPerIntervalOffline" class="form-control input-sm" type="text"/>
          </div>
        </td>
      </tr>
    </table>
  </div>

  <div class="widget" id="notice">
    <div class="title" data-lang="notices"></div>
    <table class="table table-striped">
      <tr>
        <td><strong data-lang="interval"></strong></td>
        <td>
          <abbr title="click to edit" data-config-id="noticeInterval" onclick="commons.configEditable(this, 'min')" id="configNoticeInterval"></abbr>
          <div class="input-group" style="display:none;" id="input_noticeInterval_group">
            <div class="input-group-addon" data-lang="minutes"></div>
            <input id="input_noticeInterval" class="form-control input-sm" type="text"/>
          </div>
        </td>
      </tr>
      <tr>
        <td><strong data-lang="minimal-messages-required"></strong></td>
        <td>
          <abbr title="click to edit" data-config-id="noticeMsgReq" onclick="commons.configEditable(this, '')" id="configNoticeMsgReq"></abbr>
          <div class="input-group" style="display:none;" id="input_noticeMsgReq_group">
            <div class="input-group-addon" data-lang="number"></div>
            <input id="input_noticeMsgReq" class="form-control input-sm" type="text"/>
          </div>
        </td>
      </tr>
    </table>
  </div>

  <div class="widget" id="songs">
    <div class="title" data-lang="songs"></div>
    <table id="SRRequests" class="table table-striped">
      <tr>
        <td><strong data-lang="volume"></strong></td>
        <td>
          <abbr title="click to edit" data-config-id="songs_volume" onclick="commons.configEditable(this, '%')" id="configVolume"></abbr>
          <div class="input-group" style="display:none;" id="input_songs_volume_group">
            <div class="input-group-addon">%</div>
            <input id="input_songs_volume" class="form-control input-sm" type="text"/>
          </div>
        </td>
      </tr>
      <tr>
        <td><strong data-lang="max-duration"></strong></td>
        <td>
          <abbr title="click to edit" data-config-id="songs_duration" onclick="commons.configEditable(this, 'min')" id="configDuration"></abbr>
          <div class="input-group" style="display:none;" id="input_songs_duration_group">
            <div class="input-group-addon" data-lang="minutes"></div>
            <input id="input_songs_duration" class="form-control input-sm" type="text"/>
          </div>
        </td>
      </tr>
      <tr>
        <td><strong data-lang="shuffle"></strong></td>
        <td>
          <input id="shuffleToggle" type="checkbox" data-toggle="toggle"  data-size="mini" data-onstyle="success" data-offstyle="danger">
        </td>
      </tr>
      <tr>
        <td><strong data-lang="song-requests"></strong></td>
        <td>
          <input id="songrequestToggle" type="checkbox" data-toggle="toggle"  data-size="mini" data-onstyle="success" data-offstyle="danger">
        </td>
      </tr>
      <tr>
        <td><strong data-lang="playlist"></strong></td>
        <td>
          <input id="playlistToggle" type="checkbox" data-toggle="toggle"  data-size="mini" data-onstyle="success" data-offstyle="danger">
        </td>
      </tr>
    </table>
  </div>

  <div class="widget" id="uptime">
    <div class="title" data-lang="uptime"></div>
    <table class="table table-striped">
      <tr>
        <td><strong data-lang="format"></strong><br>
        <small><strong><span data-lang="available"></span>:</strong> (days), (hours), (minutes), (seconds)</small></td>
        <td>
          <abbr title="click to edit" data-config-id="uptimeFormat" onclick="commons.configEditable(this, '')" id="configUptimeFormat"></abbr>
          <div class="input-group" style="display:none;" id="input_uptimeFormat_group">
            <div class="input-group-addon" data-lang="string"></div>
            <input id="input_uptimeFormat" class="form-control input-sm" type="text"/>
          </div>
        </td>
      </tr>
    </table>
  </div>
</div>
<script>
  if (!systems.points) $("#points").css('display', 'none')
  if (!systems.notice) $("#notice").css('display', 'none')
  if (!systems.songs) $("#songs").css('display', 'none')

  socket.emit('getPointsConfiguration')
  socket.emit('getNoticeConfiguration')
  socket.emit('getSongsConfiguration')
  socket.emit('getConfiguration')

  socket.off('configuration')
  socket.on('configuration', function (data) {
    $("#configUptimeFormat").text(data.uptimeFormat)
  })

  socket.off('pointsConfiguration')
  socket.on('pointsConfiguration', function(data) {
    $("#configPointsName").text(data.pointsName)
    $("#configPointsResponse").text(data.pointsResponse)
    $("#configPointsInterval").text(data.pointsInterval)
    $("#configPointsPerInterval").text(data.pointsPerInterval)
    $("#configPointsIntervalOffline").text(data.pointsIntervalOffline)
    $("#configPointsPerIntervalOffline").text(data.pointsPerIntervalOffline)
  })

  socket.off('noticesConfiguration')
  socket.on('noticesConfiguration', function(data) {
    $("#configNoticeInterval").text(data.interval + 'min')
    $("#configNoticeMsgReq").text(data.msgreq)
  })

  socket.off('songsConfiguration')
  socket.on('songsConfiguration', function(data) {
    $("#configVolume").text(data.volume + '%')
    $("#configDuration").text(data.duration + 'min')

    $('#shuffleToggle').bootstrapToggle(data.shuffle ? 'on' : 'off')
    $('#shuffleToggle').off('change')
    $('#shuffleToggle').change(function() {
      if ($('#shuffleToggle').data('init')) socket.emit('saveConfiguration', {'songs_shuffle': $(this).prop('checked')})
    })
    $('#shuffleToggle').data('init', true)

    $('#songrequestToggle').bootstrapToggle(data.songrequest ? 'on' : 'off')
    $('#songrequestToggle').off('change')
    $('#songrequestToggle').change(function() {
      if ($('#songrequestToggle').data('init')) socket.emit('saveConfiguration', {'songs_songrequest': $(this).prop('checked')})
    })
    $('#songrequestToggle').data('init', true)

    $('#playlistToggle').bootstrapToggle(data.playlist ? 'on' : 'off')
    $('#playlistToggle').off('change')
    $('#playlistToggle').change(function() {
      if ($('#playlistToggle').data('init')) socket.emit('saveConfiguration', {'songs_playlist': $(this).prop('checked')})
    })
    $('#playlistToggle').data('init', true)
  })

</script>